(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{616:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),l=n(618);class s extends r.a.Component{render(){let e="EasySelect";return this.props.plain&&(e+=" EasySelect__plain"),r.a.createElement("span",{className:e,onClick:l.a},this.props.children)}}},618:function(e,t,n){"use strict";function a(e){var t=document.createRange();t.selectNodeContents(e.target),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}n.d(t,"a",(function(){return a}))},620:function(e,t,n){var a=n(173),r=n(64);e.exports=function(e,t){return a(t,(function(t){return r(e[t])}))}},625:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(3),r=n(17),l=n.n(r),s=n(14),o=n.n(s),c=n(626),u=n.n(c),i=n(627),d=n.n(i),m=n(628),p=n.n(m);function E(e,t){let n;try{n=a.xdr[t].fromXDR(e,"base64")}catch(e){throw new Error("Input XDR could not be parsed")}let r=[{}];return f(n,r[0],t),r}function f(t,n,r){n.type=r,l()(t)?function(e,t){e.value=`Array[${t.length}]`,e.nodes=[];for(var n=0;n<t.length;n++)e.nodes.push({}),f(t[n],e.nodes[e.nodes.length-1],"["+n+"]")}(n,t):function(e){if(o()(e))return!1;if(e&&e._isBuffer)return!1;var t=u()(e);if(0==t.length)return!1;if(d()(t,"getLowBits")&&d()(t,"getHighBits"))return!1;return!0}(t)?t.switch?function(e,t){e.value="["+t.switch().name+"]",o()(t.arm())&&(e.nodes=[{}],f(t[t.arm()](),e.nodes[e.nodes.length-1],t.arm()))}(n,t):function(e,t){e.nodes=[],p()(u()(t),"toXDR").forEach((function(n){e.nodes.push({}),f(t[n](),e.nodes[e.nodes.length-1],n)}))}(n,t):n.value=function(t,n){if(d()(h,n))return{type:"amount",value:{parsed:a.Operation._fromXDRAmount(t),raw:t.toString()}};if("hint"===n){let n=new e(t,"base64"),r=e.concat([new e(28).fill(0),n]),l=new a.Keypair({type:"ed25519",publicKey:r});return{type:"code",value:"G"+new e(46).fill("_").toString()+l.publicKey().substr(47,5)+new e(4).fill("_").toString()}}if("ed25519"===n||"sourceAccountEd25519"===n){return{type:"code",value:a.StrKey.encodeEd25519PublicKey(t)}}if("assetCode"===n||"assetCode4"===n||"assetCode12"===n)return t.toString();if(t&&t._isBuffer)return{type:"code",raw:t,value:new e(t).toString("base64")};if(void 0===t)return;if("function"==typeof t.toString)return t.toString();throw new Error("Internal laboratory bug: Encountered value type in XDR viewer that does not have a toString method")}(t,r)}const h=["amount","startingBalance","sendMax","sendAmount","destMin","destAmount","limit"]}).call(this,n(2).Buffer)},626:function(e,t,n){var a=n(620),r=n(58);e.exports=function(e){return null==e?[]:a(e,r(e))}},627:function(e,t,n){var a=n(172),r=n(41),l=n(14),s=n(123),o=n(304),c=Math.max;e.exports=function(e,t,n,u){e=r(e)?e:o(e),n=n&&!u?s(n):0;var i=e.length;return n<0&&(n=c(i+n,0)),l(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&a(e,t,n)>-1}},628:function(e,t,n){var a=n(629),r=n(300),l=n(305),s=r((function(e,t){return l(e)?a(e,t):[]}));e.exports=s},629:function(e,t,n){var a=n(302),r=n(630),l=n(631),s=n(125),o=n(124),c=n(303);e.exports=function(e,t,n,u){var i=-1,d=r,m=!0,p=e.length,E=[],f=t.length;if(!p)return E;n&&(t=s(t,o(n))),u?(d=l,m=!1):t.length>=200&&(d=c,m=!1,t=new a(t));e:for(;++i<p;){var h=e[i],v=null==n?h:n(h);if(h=u||0!==h?h:0,m&&v==v){for(var b=f;b--;)if(t[b]===v)continue e;E.push(h)}else d(t,v,u)||E.push(h)}return E}},630:function(e,t,n){var a=n(172);e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},631:function(e,t){e.exports=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}},642:function(e,t,n){var a=n(620),r=n(54);e.exports=function(e){return null==e?[]:a(e,r(e))}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),r=n.n(a),l=n(122),s=n.n(l),o=n(93),c=n.n(o),u=n(616),i=n(163),d=n(24);class m extends r.a.Component{render(){let{nodes:e,className:t,fetchedSigners:n,parent:a}=this.props,l=t;return r.a.createElement("div",{className:l},c()(Array.prototype.slice.call(e),(e,t)=>{let l,s=function(e,t){let n=".";t&&"["!=e.type.charAt(0)||(n="");return(t?t+n:"")+e.type}(e,a);return void 0!==e.nodes&&(l=r.a.createElement("div",{className:"TreeView__child"},r.a.createElement(m,{nodes:e.nodes,fetchedSigners:n,parent:s}))),r.a.createElement("div",{className:"TreeView__set",key:t},r.a.createElement("div",{className:"TreeView__row",key:t+e.type},r.a.createElement(p,{node:e,position:s,fetchedSigners:n})),l)}))}}function p(e){let t,n,a,{node:l,position:o,fetchedSigners:c}=e;return"string"==typeof l.value?(t=String(l.value),n=!0):void 0!==l.value&&s()(l.value,"type")?(t=function({type:e,value:t}){switch(e){case"code":return r.a.createElement(u.a,null,r.a.createElement("code",null,t));case"amount":return r.a.createElement("span",null,E.format(t.parsed)," (raw: ",r.a.createElement("code",null,t.raw),")")}}(l.value),n=!0):void 0!==l.nodes?t="":(t=r.a.createElement("em",null,"none"),n=!0),n&&(a=": "),o.match(/^TransactionEnvelope\.(\w+\.)+signatures$/)?(function(e,t){if(e.state=t.state,t.state!==d.a.SUCCESS)return;for(var n=0;n<e.nodes.length;n++){const a=e.nodes[n].nodes.find(e=>"signature"==e.type),r=t.data.find(e=>e.sig.equals(a.value.raw));let l=i.a.NOT_VERIFIED_YET;r&&(l=r.isValid),a.value.isValid=l}}(l,c),function(e,t){let n="";switch(e.state){case d.a.SUCCESS:n=r.a.createElement("span",{style:{fontStyle:"italic"}}," Signatures checked!");break;case d.a.PENDING:n=r.a.createElement("span",{style:{fontStyle:"italic"}}," Checking signatures...");break;case d.a.FAIL:n=r.a.createElement("span",{style:{color:"red"}}," Error checking signatures...");break;case d.a.NOT_EXIST:n=r.a.createElement("span",{style:{color:"red"}}," Some source accounts don't exist. Are you on the right network?")}return r.a.createElement("span",null,r.a.createElement("strong",null,e.type),t,e.value,n)}(l,a)):o.match(/^TransactionEnvelope\.(\w+\.)+signatures\[[0-9]+\]\.signature$/)?function(e,t){let n={color:"black"},a="";e.value.isValid===i.a.INVALID?(n={color:"red"},a=" ❌ "):e.value.isValid===i.a.VALID&&(n={color:"green"},a=" ✅ ");return r.a.createElement("span",{style:n},r.a.createElement("strong",null,e.type),t,e.value.value," ",a)}(l,a):l.value&&(o.match(/^TransactionEnvelope\.(\w+\.)+tx.memo.text$/)||o.match(/^TransactionEnvelope\.(\w+\.)+tx.operations\[[0-9]+\]\.body.manageDataOp.data.*$/)||o.match(/^TransactionEnvelope\.(\w+\.)+tx.operations\[[0-9]+\]\.body.setOptionsOp.homeDomain$/))?r.a.createElement("span",null,r.a.createElement("strong",null,l.type),a,r.a.createElement("code",null,l.value.raw.toString())," [hex: ",t,"]"):r.a.createElement("span",null,r.a.createElement("strong",null,l.type),a,t)}const E=new Intl.NumberFormat("en-US",{minimumFractionDigits:1,maximumFractionDigits:7})},644:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(126),r=n(40);const l={fetchLatestTx:"xdr viewer: fetch latest transaction",decodeFailed:"xdr viewer: decode XDR: failed",decodeSuccess:"xdr viewer: decode XDR: success"};function s(e,t){const{type:n,...s}=t;switch(n){case a.a:Object(r.c)(l.fetchLatestTx)}}},673:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(46),s=n(301),o=n.n(s),c=n(642),u=n.n(c),i=n(24),d=n(625),m=n(643),p=n(182),E=n(126),f=n(3),h=n(40),v=n(644),b=n(616);const g=e=>Array.isArray(e)?e.some(Boolean):Boolean(e),w=({isOpen:e=!1,children:t})=>{const[n,a]=r.a.useState(e);return r.a.useEffect(()=>{a(e)},[e]),r.a.createElement("div",{className:"Collapsible "+(n&&g(t)?"Collapsible__open":"Collapsible__closed")},t)},_="idle",y="pending",x="success",S="failed",N="submit",k="success",T="fail",R={state:_,response:null,error:null},A=(e,t)=>{switch(t.type){case N:return{...R,state:y};case k:return{...e,error:null,response:t.payload,state:x};case T:return{...e,response:null,error:t.payload,state:S};default:return e}},X=({txXdr:e,networkPassphrase:t,horizonURL:n})=>{const[a,l]=r.a.useReducer(A,R),s=a.state===_,o=!e||!s;return r.a.createElement("div",{className:"TransactionSubmitter"},r.a.createElement("div",{className:"XdrViewer__submit so-back"},r.a.createElement("div",{className:"so-chunk"},r.a.createElement("button",{className:"s-button",disabled:o,onClick:()=>{l({type:N});const a=f.TransactionBuilder.fromXDR(e,t);new f.Server(n,{appName:"Laboratory"}).submitTransaction(a).then(e=>{l({type:k,payload:e})},e=>{l({type:T,payload:e})})}},a.state===y?"Submitting to the network…":"Submit Transaction"))),r.a.createElement(w,{isOpen:!s},!s&&a.response&&r.a.createElement(D,a.response),!s&&a.error&&r.a.createElement(O,{error:a.error})))},D=({operation_count:e,successful:t,paging_token:n,hash:a,ledger:l,result_xdr:s,result_meta_xdr:o,fee_meta_xdr:c})=>r.a.createElement("div",{className:"XdrViewer__submit so-back TransactionSubmitter__result"},r.a.createElement("div",{className:"so-chunk"},r.a.createElement("h3",{className:"ResultTitle__success"},"Transaction submitted!"),r.a.createElement("p",null,"Transaction ",t?"succeeded":"failed"," with ",e," ","operation(s)."),r.a.createElement("pre",{className:"so-code TransactionSubmitter__code"},r.a.createElement("code",null,r.a.createElement("div",null,"Hash:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,a)," ",r.a.createElement("br",null),"Ledger number:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,l)," ",r.a.createElement("br",null),"Paging token:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,n)," ",r.a.createElement("br",null),"Result XDR:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,s)," ",r.a.createElement("br",null),"Result Meta XDR:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,o)," ",r.a.createElement("br",null),"Fee Meta XDR:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,c)))))),O=({error:e})=>{let t="",n=null;if(e instanceof f.AccountRequiresMemoError)t="This destination requires a memo.",n=r.a.createElement(r.a.Fragment,null,"Destination account:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,e.accountId)," ",r.a.createElement("br",null),"Operation index:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,e.operationIndex)," ",r.a.createElement("br",null));else if(null!=e&&e.response){var a;const{result_codes:l,result_xdr:s}=(null===(a=e.response.data)||void 0===a?void 0:a.extras)||{};t=e.message,n=r.a.createElement(r.a.Fragment,null,"extras.result_codes:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,JSON.stringify(l))," ",r.a.createElement("br",null),"Result XDR:",r.a.createElement("br",null)," ",r.a.createElement(b.a,null,s)," ",r.a.createElement("br",null))}else t=e instanceof f.BadResponseError?"Received a bad response when submitting.":"An unknown error occurred.",n=r.a.createElement(r.a.Fragment,null,"original error:",r.a.createElement("br",null),r.a.createElement(b.a,null,JSON.stringify(e,null,2)),r.a.createElement("br",null));return r.a.createElement("div",{className:"XdrViewer__submit so-back TransactionSubmitter__result"},r.a.createElement("div",{className:"so-chunk"},r.a.createElement("h3",{className:"ResultTitle__failure"},"Transaction failed!"),r.a.createElement("p",null,t),n&&r.a.createElement("pre",{className:"so-code TransactionSubmitter__code"},r.a.createElement("code",null,n))))};Object(h.a)(v.a);const I=o()(h.c,1e3);t.default=Object(l.b)((function(e){return{state:e.xdrViewer,baseURL:e.network.current.horizonURL,networkPassphrase:e.network.current.networkPassphrase,horizonURL:e.network.current.horizonURL}}))((function(e){let{dispatch:t,state:n,baseURL:a,networkPassphrase:l,horizonURL:s}=e;const{error:o,nodes:c}=r.a.useMemo(()=>{if(""===n.input)return{error:"Enter a base-64 encoded XDR blob to decode.",nodes:null};{let e=Object(p.a)(n.input);if("error"===e.result)return{error:e.message,nodes:null};try{return{error:null,nodes:Object(d.a)(n.input,"TransactionEnvelope")}}catch(e){return console.error(e),I(v.b.decodeFailed,{type:"TransactionEnvelope"}),{error:"Unable to decode input as TransactionEnvelope",nodes:null}}}},[n.input]);return n.fetchedSigners.state===i.a.NONE&&t(Object(E.e)(n.input,a,l)),r.a.createElement("div",null,r.a.createElement("div",{className:"XdrViewer__setup so-back"},r.a.createElement("div",{className:"so-chunk"},r.a.createElement("p",{className:"XdrViewer__label",style:{marginTop:"2em"}},"Input a base-64 encoded TransactionEnvelope:"),r.a.createElement("div",{className:"xdrInput__input"},r.a.createElement("textarea",{value:n.input||"",className:"xdrInput__input__textarea",onChange:e=>{t(Object(E.f)(e.target.value)),t(Object(E.e)(e.target.value,a,l))},placeholder:"Example: AAAAAGXNhB2hIkbP//jgzn4os/AAAAZAB+BaLPAAA5Q/xL..."})))),r.a.createElement(X,{txXdr:n.input,networkPassphrase:l,horizonURL:s}),r.a.createElement("div",{className:"XdrViewer__submit so-back"},r.a.createElement("div",{className:"so-chunk"},o&&r.a.createElement("div",{className:"xdrInput__message"},r.a.createElement("p",{className:"xdrInput__message__alert"},o)),c&&r.a.createElement(m.a,{nodes:c,fetchedSigners:n.fetchedSigners}))))}));let L=u()(f.xdr).sort();L=["TransactionEnvelope","TransactionResult","TransactionMeta","---"].concat(L)}}]);